{% extends "layout.html" %}
{% block title %}Gerenciar Serviços{% endblock %}
{% block content %}
<header>
    <h1>Gerenciar Serviços</h1>
    <p>Adicione, edite e ative ou desative os serviços da barbearia.</p>
</header>

<div class="dashboard-section">
    <h2>Adicionar Novo Serviço</h2>
    <form action="{{ url_for('add_servico') }}" method="POST" class="form-grid">
        <input type="text" name="nome" placeholder="Nome do Serviço" required>
        <input type="number" name="duracao" placeholder="Duração (minutos)" required>
        <input type="number" step="0.01" name="preco" placeholder="Preço (ex: 45.00)" required>
        <button type="submit" class="btn btn-save">Adicionar Serviço</button>
    </form>
</div>

<div class="dashboard-section">
    <h2>Serviços Existentes</h2>
    {% if servicos %}
    <div class="servicos-list">
        {% for servico in servicos %}
        <div class="servico-card {% if not servico.ativo %}inativo{% endif %}">
            <form action="{{ url_for('edit_servico', servico_id=servico.id) }}" method="POST">
                <input type="text" name="nome" value="{{ servico.nome }}" required>
                <input type="number" name="duracao" value="{{ servico.duracao_minutos }}" required>
                <input type="number" step="0.01" name="preco" value="{{ servico.preco }}" required>
                <div class="servico-actions">
                    <label class="switch">
                        <input type="checkbox" name="ativo" {% if servico.ativo %}checked{% endif %} onchange="this.form.submit()">
                        <span class="slider round"></span>
                        <span class="status-text">{% if servico.ativo %}Ativo{% else %}Inativo{% endif %}</span>
                    </label>
                    <button type="submit"  class="btn-salvar-servico">Salvar</button>
                </div>
            </form>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p>Nenhum serviço cadastrado.</p>
    {% endif %}
</div>
{% endblock %}